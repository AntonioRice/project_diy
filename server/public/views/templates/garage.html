<div ng-include="'views/partials/nav.html'"></div>

<body ng-if="!vc.editVehicle" layout-padding>

  <section class="welcomeUser" layout="row" layout-md="column" layout-align="center center" layout-wrap ng-if="!vc.editVehicle" style="
    width: 500px;">
    <div layout="row" layout-align="center center" flex>
      <h1>Welcome to your Garage, <span id="userName">{{vc.userService.userPackage.userName}}<span> </h1>
      <span flex></span>
    </div>
    <md-button class="button md-raised" ng-click="vc.gotoAddVehicleFrom()">Add Vehicle</md-button>
  </section>

  <div layout="row" ng-if="!vc.editVehicle" flex>
    <md-content class="md-padding" layout-xs="column" layout="row" layout-wrap>

      <div ng-repeat="item in vc.userPackage.vehicle">
        <md-card flex="33" layout-wrap style="width: 350px;">

          <md-card-content>
            <md-button type="button"ng-click="vc.stretchGoals()" >
              <img ng-src="{{item.img}}" height="200px" width="290px" class="md-card-image">
            </md-button>
            <br>
            <md-card-title-text>
              <span class="md-headline">{{item.name}}</span >
              </md-card-title-text>

              <p> Year: {{item.year}} </p>
              <p> Make: {{item.make}} </p>
              <p> Model: {{item.model}} </p>
              <p> Body Style: {{item.body_style}} </p>
              <!-- <p> Mileage: {{item.mileage}} </p> -->

              <md-card-actions layout="row" layout-align="center center">
                <md-button class="button md-raised" ng-click="vc.toggleUpdateVehicle(item)">Edit</md-button>
                <md-button class="button md-raised " ng-click="vc.vehicleService.gotoProjectsFor(item._id , item.name)">Projects</md-button>
              </md-card-actions>

            </md-card-content>
          </md-card>
        </div>
    </md-content>
  </div>

  <!-- edit form -->

  <div ng-if="vc.editVehicle">

    <md-content layout="row" layout-align="space-around" layout-padding="layout-padding">
    <md-card flex="flex" flex-gt-sm="70" flex-gt-md="30">

        <md-card-content>
          <section layout="row" layout-md="column" layout-align="end center" layout-wrap>
            <div layout="row" layout-align="start center" flex>
              <h1>{{vc.editVehicle.name}}</h1>
          </section>

          <form ng-model="vc.editVehicle">
            <md-input-container>
              <input type="text" placeholder="Nick Name" ng-model="vc.vehicleService.editVehicle.name"/>
              {{vc.editVehicle.name}}
            </md-input-container>
            <md-input-container>
              <input type="text" placeholder="Year" ng-model="vc.vehicleService.editVehicle.year" />
              {{vc.editVehicle.year}}
            </md-input-container>
            <md-input-container>
              <input type="text" placeholder="Make" ng-model="vc.vehicleService.editVehicle.make" />
              {{vc.editVehicle.make}}
            </md-input-container>
            <md-input-container>
              <input type="text" placeholder="Model" ng-model="vc.vehicleService.editVehicle.model" />
              {{vc.editVehicle.model}}
            </md-input-container>
            <md-input-container>
              <input type="text" placeholder="Body Style" ng-model="vc.vehicleService.editVehicle.body_style" />
              {{vc.editVehicle.body_style}}
            </md-input-container>
            <md-input-container>
              <input type="text" placeholder="Mileage" ng-model="vc.vehicleService.editVehicle.mileage" />
              {{vc.editVehicle.mileage}}
            </md-input-container>
            <md-input-container>
              <input aria-label="upload" type="button" value="                          "
              placeholder="Upload Image"class="button md-raised" ng-model="vc.vehicleService.editVehicle.img"
              ng-click="vc.showPicker()"/>
            </md-input-container>

            <div layout="row" layout-align="center center">
              <md-button class="button md-raised" ng-click="vc.vehicleService.updatingVehicle(vc.editVehicle._id)">
                Update Vehicle</md-button>
                <md-button class="button md-raised" ng-click="vc.vehicleService.deleteVehicle(vc.editVehicle._id)">Delete</md-button>
                <md-button class="button md-raised" ng-click="vc.cancelUpdate()">Cancel</md-button>
              </div>
            </form>

          </md-card-content>
        </md-card>
      </md-content>

    </div>

  </body>
